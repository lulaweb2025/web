(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{900:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(8081),a=r(2149),i=r(7687);let o=a.forwardRef((e,t)=>{let{className:r,type:a,...o}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...o})});o.displayName="Input"},1168:(e,t,r)=>{"use strict";r.d(t,{ThemeProvider:()=>i});var s=r(8081);r(2149);var a=r(7135);function i(e){let{children:t,...r}=e;return(0,s.jsx)(a.N,{...r,children:t})}},2960:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var s=r(8081),a=r(2149),i=r(4548),o=r(2739),n=r(6913),l=r(2522),d=r(7500),c=r(6602),u=r(1224),m=r(9651),f=r(5160),p=r(900),g=r(4615),h=r(5844);function x(){let[e,t]=(0,a.useState)(!1),[r,x]=(0,a.useState)([]),[v,y]=(0,a.useState)(""),[b,N]=(0,a.useState)(!0),[j,w]=(0,a.useState)(!1),[S,T]=(0,a.useState)(!1),[E,A]=(0,a.useState)(!0),D=(0,a.useRef)(null),_=(0,a.useRef)(null),O=(0,m.usePathname)(),{toast:k}=(0,h.dj)();(0,a.useEffect)(()=>{e&&t(!1)},[O]),(0,a.useEffect)(()=>{D.current&&D.current.scrollIntoView({behavior:"smooth"})},[r]),(0,a.useEffect)(()=>{if(e&&0===r.length&&b){_.current&&(_.current.currentTime=0,_.current.play().catch(e=>{console.error("Error playing sound:",e)}));let e=setTimeout(()=>{x([{id:1,sender:"agent",name:"Soporte",message:"\xa1Hola! \xbfEn qu\xe9 puedo ayudarte hoy?",timestamp:new Date().toISOString()}])},1500);return()=>clearTimeout(e)}},[e,r.length,b]),(0,a.useEffect)(()=>{r.length>0&&!e&&"agent"===r[r.length-1].sender?T(!0):T(!1)},[r,e]);let I=()=>{w(!0),setTimeout(()=>{w(!1);let e=["Claro, puedo ayudarte con eso.","Gracias por tu pregunta. D\xe9jame verificar esa informaci\xf3n.","\xbfHay algo m\xe1s en lo que pueda ayudarte?","Ese producto est\xe1 disponible actualmente.","Puedes encontrar m\xe1s detalles en la descripci\xf3n del producto.","\xbfTe gustar\xeda que te muestre productos similares?"],t=e[Math.floor(Math.random()*e.length)];x(e=>[...e,{id:Date.now(),sender:"agent",name:"Soporte",message:t,timestamp:new Date().toISOString()}]),b&&_.current&&(_.current.currentTime=0,_.current.volume=.5,_.current.play().catch(e=>{console.error("Error playing sound:",e)}))},Math.floor(1500*Math.random())+1500)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("audio",{ref:_,src:"/sounds/chat-call.mp3"}),(0,s.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,s.jsx)(c.N,{children:!e&&(0,s.jsxs)(u.P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"relative",children:[(0,s.jsxs)(f.$,{onClick:()=>t(!0),size:"lg",className:"h-14 w-14 rounded-full shadow-lg",children:[(0,s.jsx)(i.A,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"Abrir chat"})]}),(0,s.jsx)("span",{className:"absolute top-0 right-0 h-3 w-3 rounded-full bg-green-500 ring-2 ring-white"}),S&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-[10px] text-white",children:"1"})]})})}),(0,s.jsx)(c.N,{children:e&&(0,s.jsxs)(u.P.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:"fixed bottom-6 right-6 z-50 w-80 sm:w-96 rounded-lg shadow-xl bg-white overflow-hidden border",children:[(0,s.jsxs)("div",{className:"bg-primary text-primary-foreground p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.eu,{className:"h-8 w-8 border-2 border-primary-foreground",children:(0,s.jsx)(g.q5,{className:"bg-primary-foreground text-primary",children:"S"})}),(0,s.jsx)("span",{className:"absolute bottom-0 right-0 h-2.5 w-2.5 rounded-full bg-green-500 ring-1 ring-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-sm",children:"Soporte Lulaweb"}),(0,s.jsx)("p",{className:"text-xs opacity-90",children:"En l\xednea"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(f.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary-foreground opacity-80 hover:opacity-100 hover:bg-primary-foreground/10",onClick:()=>{N(!b),k({title:b?"Sonido desactivado":"Sonido activado",description:b?"Las notificaciones de sonido han sido desactivadas":"Las notificaciones de sonido han sido activadas"})},children:[b?(0,s.jsx)(o.A,{className:"h-4 w-4"}):(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:b?"Desactivar sonido":"Activar sonido"})]}),(0,s.jsxs)(f.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-primary-foreground opacity-80 hover:opacity-100 hover:bg-primary-foreground/10",onClick:()=>t(!1),children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Cerrar chat"})]})]})]}),(0,s.jsxs)("div",{className:"h-80 overflow-y-auto p-4 flex flex-col gap-3",children:[r.map(e=>(0,s.jsxs)("div",{className:"flex items-start gap-2 max-w-[85%] ".concat("user"===e.sender?"self-end":"self-start"),children:["agent"===e.sender&&(0,s.jsx)(g.eu,{className:"h-8 w-8 mt-1",children:(0,s.jsx)(g.q5,{className:"bg-primary/10 text-primary",children:"S"})}),(0,s.jsxs)("div",{className:"rounded-lg px-3 py-2 ".concat("user"===e.sender?"bg-primary text-primary-foreground":"bg-muted"),children:[(0,s.jsx)("p",{className:"text-sm",children:e.message}),(0,s.jsx)("p",{className:"text-[10px] opacity-70 mt-1 text-right",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},e.id)),j&&(0,s.jsxs)("div",{className:"flex items-start gap-2 self-start",children:[(0,s.jsx)(g.eu,{className:"h-8 w-8 mt-1",children:(0,s.jsx)(g.q5,{className:"bg-primary/10 text-primary",children:"S"})}),(0,s.jsx)("div",{className:"bg-muted rounded-lg px-3 py-2",children:(0,s.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),(0,s.jsx)("div",{ref:D})]}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!v.trim())return;let t={id:Date.now(),sender:"user",name:"T\xfa",message:v.trim(),timestamp:new Date().toISOString()};x(e=>[...e,t]),y(""),setTimeout(I,500)},className:"border-t p-3 flex gap-2",children:[(0,s.jsx)(p.p,{type:"text",placeholder:"Escribe un mensaje...",value:v,onChange:e=>y(e.target.value),className:"flex-1"}),(0,s.jsxs)(f.$,{type:"submit",size:"icon",className:"shrink-0",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Enviar mensaje"})]})]})]})})]})}},4615:(e,t,r)=>{"use strict";r.d(t,{eu:()=>n,q5:()=>l});var s=r(8081),a=r(2149),i=r(4109),o=r(7687);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.bL,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});n.displayName=i.bL.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i._V,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",r),...a})}).displayName=i._V.displayName;let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.H4,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});l.displayName=i.H4.displayName},4726:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>x});var s=r(8081),a=r(5844),i=r(2149),o=r(4175),n=r(3484),l=r(2522),d=r(7687);let c=o.Kq,u=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.LM,{ref:t,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...a})});u.displayName=o.LM.displayName;let m=(0,n.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=i.forwardRef((e,t)=>{let{className:r,variant:a,...i}=e;return(0,s.jsx)(o.bL,{ref:t,className:(0,d.cn)(m({variant:a}),r),...i})});f.displayName=o.bL.displayName,i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.rc,{ref:t,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...a})}).displayName=o.rc.displayName;let p=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.bm,{ref:t,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=o.bm.displayName;let g=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.hE,{ref:t,className:(0,d.cn)("text-sm font-semibold",r),...a})});g.displayName=o.hE.displayName;let h=i.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.VY,{ref:t,className:(0,d.cn)("text-sm opacity-90",r),...a})});function x(){let{toasts:e}=(0,a.dj)();return(0,s.jsxs)(c,{children:[e.map(function(e){let{id:t,title:r,description:a,action:i,...o}=e;return(0,s.jsxs)(f,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(g,{children:r}),a&&(0,s.jsx)(h,{children:a})]}),i,(0,s.jsx)(p,{})]},t)}),(0,s.jsx)(u,{})]})}h.displayName=o.VY.displayName},5160:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(8081),a=r(2149),i=r(5169),o=r(3484),n=r(7687);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(l({variant:a,size:o,className:r})),ref:t,...c})});d.displayName="Button"},5307:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6146,23)),Promise.resolve().then(r.bind(r,2960)),Promise.resolve().then(r.bind(r,8092)),Promise.resolve().then(r.bind(r,1168)),Promise.resolve().then(r.bind(r,4726)),Promise.resolve().then(r.t.bind(r,4905,23))},5844:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var s=r(2149);let a=0,i=new Map,o=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=n(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},6146:()=>{},7687:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(6522),a=r(4483);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},8092:(e,t,r)=>{"use strict";r.d(t,{default:()=>n,r:()=>o});var s=r(8081),a=r(2149);let i=(0,a.createContext)({favorites:[],addFavorite:e=>{},removeFavorite:e=>{},toggleFavorite:e=>{},isFavorite:e=>!1}),o=()=>(0,a.useContext)(i);function n(e){let{children:t}=e,[r,o]=(0,a.useState)([]);(0,a.useEffect)(()=>{let e=localStorage.getItem("lulaweb-favorites");if(e)try{o(JSON.parse(e))}catch(e){console.error("Error parsing favorites from localStorage:",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("lulaweb-favorites",JSON.stringify(r))},[r]);let n=e=>{r.includes(e)||o([...r,e])},l=e=>{o(r.filter(t=>t!==e))};return(0,s.jsx)(i.Provider,{value:{favorites:r,addFavorite:n,removeFavorite:l,toggleFavorite:e=>{r.includes(e)?l(e):n(e)},isFavorite:e=>r.includes(e)},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[976,822,656,497,954,358],()=>t(5307)),_N_E=e.O()}]);